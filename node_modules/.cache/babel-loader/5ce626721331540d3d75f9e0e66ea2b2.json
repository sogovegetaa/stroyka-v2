{"ast":null,"code":"import _objectWithoutProperties from \"C:\\\\Mustax\\\\qwe\\\\stroyka-tools-store-react-ecommerce-template-23909258-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Mustax\\\\qwe\\\\stroyka-tools-store-react-ecommerce-template-23909258-master\\\\src\\\\components\\\\shared\\\\InputNumber.jsx\";\n// react\nimport React, { Component } from 'react'; // third-party\n\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nclass InputNumber extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleChange = event => {\n      const _this$props = this.props,\n            min = _this$props.min,\n            onChange = _this$props.onChange;\n\n      if (onChange) {\n        const value = parseFloat(event.target.value);\n        onChange(Number.isNaN(value) ? min || 0 : value);\n      }\n    };\n\n    this.handleAddMouseDown = () => {\n      this.change(1);\n      this.changeByTimer(1);\n    };\n\n    this.handleSubMouseDown = () => {\n      this.change(-1);\n      this.changeByTimer(-1);\n    };\n  }\n\n  /**\n   * @param direction - one of [-1, 1]\n   */\n  change(direction) {\n    const _this$props2 = this.props,\n          value = _this$props2.value,\n          step = _this$props2.step,\n          max = _this$props2.max,\n          min = _this$props2.min,\n          onChange = _this$props2.onChange;\n    let newValue = (value === '' || Number.isNaN(value) ? 0 : value) + step * direction;\n\n    if (max !== null) {\n      newValue = Math.min(max, newValue);\n    }\n\n    if (min !== null) {\n      newValue = Math.max(min, newValue);\n    }\n\n    if (newValue !== value) {\n      if (onChange) {\n        onChange(newValue);\n      }\n    }\n  }\n  /**\n   * @param direction - one of [-1, 1]\n   */\n\n\n  changeByTimer(direction) {\n    let interval;\n    const timer = setTimeout(() => {\n      interval = setInterval(() => this.change(direction), 50);\n    }, 300);\n\n    const documentMouseUp = () => {\n      clearTimeout(timer);\n      clearInterval(interval);\n      document.removeEventListener('mouseup', documentMouseUp, false);\n    };\n\n    document.addEventListener('mouseup', documentMouseUp, false);\n  }\n\n  render() {\n    const _this$props3 = this.props,\n          size = _this$props3.size,\n          className = _this$props3.className,\n          otherProps = _objectWithoutProperties(_this$props3, [\"size\", \"className\"]);\n\n    const classes = classNames('input-number', className);\n    const formControlClasses = classNames('form-control input-number__input', {\n      'form-control-sm': size === 'sm',\n      'form-control-lg': size === 'lg'\n    });\n    return React.createElement(\"div\", {\n      className: classes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"input\", Object.assign({\n      className: formControlClasses,\n      type: \"number\",\n      onChange: this.handleChange\n    }, otherProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-number__add\",\n      onMouseDown: this.handleAddMouseDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-number__sub\",\n      onMouseDown: this.handleSubMouseDown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }));\n  }\n\n}\n\nInputNumber.propTypes = {\n  onChange: PropTypes.func,\n  size: PropTypes.oneOf(['sm', 'lg']),\n  step: PropTypes.number,\n  min: PropTypes.number,\n  max: PropTypes.number,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  disabled: PropTypes.bool,\n  readonly: PropTypes.bool\n};\nInputNumber.defaultProps = {\n  value: '',\n  step: 1,\n  max: null,\n  min: null\n};\nexport default InputNumber;","map":{"version":3,"sources":["C:\\Mustax\\qwe\\stroyka-tools-store-react-ecommerce-template-23909258-master\\src\\components\\shared\\InputNumber.jsx"],"names":["React","Component","classNames","PropTypes","InputNumber","handleChange","event","props","min","onChange","value","parseFloat","target","Number","isNaN","handleAddMouseDown","change","changeByTimer","handleSubMouseDown","direction","step","max","newValue","Math","interval","timer","setTimeout","setInterval","documentMouseUp","clearTimeout","clearInterval","document","removeEventListener","addEventListener","render","size","className","otherProps","classes","formControlClasses","propTypes","func","oneOf","number","oneOfType","string","disabled","bool","readonly","defaultProps"],"mappings":"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","sourcesContent":["// react\nimport React, { Component } from 'react';\n\n// third-party\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\n\nclass InputNumber extends Component {\n    handleChange = (event) => {\n        const { min, onChange } = this.props;\n\n        if (onChange) {\n            const value = parseFloat(event.target.value);\n\n            onChange(Number.isNaN(value) ? (min || 0) : value);\n        }\n    };\n\n    handleAddMouseDown = () => {\n        this.change(1);\n        this.changeByTimer(1);\n    };\n\n    handleSubMouseDown = () => {\n        this.change(-1);\n        this.changeByTimer(-1);\n    };\n\n    /**\n     * @param direction - one of [-1, 1]\n     */\n    change(direction) {\n        const {\n            value,\n            step,\n            max,\n            min,\n            onChange,\n        } = this.props;\n        let newValue = (value === '' || Number.isNaN(value) ? 0 : value) + step * direction;\n\n        if (max !== null) {\n            newValue = Math.min(max, newValue);\n        }\n        if (min !== null) {\n            newValue = Math.max(min, newValue);\n        }\n\n        if (newValue !== value) {\n            if (onChange) {\n                onChange(newValue);\n            }\n        }\n    }\n\n    /**\n     * @param direction - one of [-1, 1]\n     */\n    changeByTimer(direction) {\n        let interval;\n        const timer = setTimeout(() => {\n            interval = setInterval(() => this.change(direction), 50);\n        }, 300);\n\n        const documentMouseUp = () => {\n            clearTimeout(timer);\n            clearInterval(interval);\n\n            document.removeEventListener('mouseup', documentMouseUp, false);\n        };\n\n        document.addEventListener('mouseup', documentMouseUp, false);\n    }\n\n    render() {\n        const {\n            size,\n            className,\n            ...otherProps\n        } = this.props;\n\n        const classes = classNames('input-number', className);\n        const formControlClasses = classNames('form-control input-number__input', {\n            'form-control-sm': size === 'sm',\n            'form-control-lg': size === 'lg',\n        });\n\n        return (\n            <div className={classes}>\n                <input\n                    className={formControlClasses}\n                    type=\"number\"\n                    onChange={this.handleChange}\n                    {...otherProps}\n                />\n\n                {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n                <div className=\"input-number__add\" onMouseDown={this.handleAddMouseDown} />\n                {/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n                <div className=\"input-number__sub\" onMouseDown={this.handleSubMouseDown} />\n            </div>\n        );\n    }\n}\n\nInputNumber.propTypes = {\n    onChange: PropTypes.func,\n    size: PropTypes.oneOf(['sm', 'lg']),\n    step: PropTypes.number,\n    min: PropTypes.number,\n    max: PropTypes.number,\n    value: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.number,\n    ]),\n    disabled: PropTypes.bool,\n    readonly: PropTypes.bool,\n};\n\nInputNumber.defaultProps = {\n    value: '',\n    step: 1,\n    max: null,\n    min: null,\n};\n\nexport default InputNumber;\n"]},"metadata":{},"sourceType":"module"}