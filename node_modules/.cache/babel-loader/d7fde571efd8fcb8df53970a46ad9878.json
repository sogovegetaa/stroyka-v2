{"ast":null,"code":"import _defineProperty from \"C:\\\\Mustax\\\\qwe\\\\stroyka-tools-store-react-ecommerce-template-23909258-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Mustax\\\\qwe\\\\stroyka-tools-store-react-ecommerce-template-23909258-master\\\\src\\\\components\\\\blocks\\\\BlockTabbedProductsCarousel.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// react\nimport React, { Component } from 'react'; // third-party\n\nimport PropTypes from 'prop-types'; // application\n\nimport products from '../../data/shopProducts'; // data stubs\n\nimport BlockProductsCarousel from './BlockProductsCarousel';\nexport default class BlockTabbedProductsCarousel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeGroup = newCurrentGroup => {\n      clearTimeout(this.timeout);\n      const groups = this.state.groups;\n      const currentGroup = groups.find(group => group.current);\n\n      if (currentGroup && currentGroup.id === newCurrentGroup.id) {\n        return;\n      }\n\n      this.setState(state => ({\n        loading: true,\n        groups: state.groups.map(group => _objectSpread({}, group, {\n          current: group.id === newCurrentGroup.id\n        }))\n      })); // sending request to server, timeout is used as a stub\n\n      this.timeout = setTimeout(() => {\n        this.setState(state => {\n          // this is only for demo purpose\n          const itemsArray = state.products.slice();\n          const newItemsArray = [];\n\n          while (itemsArray.length > 0) {\n            const randomIndex = Math.floor(Math.random() * itemsArray.length);\n            const randomItem = itemsArray.splice(randomIndex, 1)[0];\n            newItemsArray.push(randomItem);\n          }\n\n          return {\n            products: newItemsArray,\n            loading: false\n          };\n        });\n      }, 2000);\n    };\n\n    this.state = {\n      products: products.slice(),\n      loading: false,\n      groups: [{\n        id: 1,\n        name: 'All',\n        current: true\n      }, {\n        id: 2,\n        name: 'Power Tools',\n        current: false\n      }, {\n        id: 3,\n        name: 'Hand Tools',\n        current: false\n      }, {\n        id: 4,\n        name: 'Plumbing',\n        current: false\n      }]\n    };\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timeout);\n  }\n\n  render() {\n    return React.createElement(BlockProductsCarousel, Object.assign({}, this.props, this.state, {\n      onGroupClick: this.handleChangeGroup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}\nBlockTabbedProductsCarousel.propTypes = {\n  title: PropTypes.string.isRequired,\n  layout: PropTypes.oneOf(['grid-4', 'grid-4-sm', 'grid-5', 'horizontal']),\n  rows: PropTypes.number,\n  withSidebar: PropTypes.bool\n};\nBlockTabbedProductsCarousel.defaultProps = {\n  layout: 'grid-4',\n  rows: 1,\n  withSidebar: false\n};","map":{"version":3,"sources":["C:\\Mustax\\qwe\\stroyka-tools-store-react-ecommerce-template-23909258-master\\src\\components\\blocks\\BlockTabbedProductsCarousel.jsx"],"names":["React","Component","PropTypes","products","BlockProductsCarousel","BlockTabbedProductsCarousel","constructor","props","handleChangeGroup","newCurrentGroup","clearTimeout","timeout","groups","state","currentGroup","find","group","current","id","setState","loading","map","setTimeout","itemsArray","slice","newItemsArray","length","randomIndex","Math","floor","random","randomItem","splice","push","name","componentWillUnmount","render","propTypes","title","string","isRequired","layout","oneOf","rows","number","withSidebar","bool","defaultProps"],"mappings":"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","sourcesContent":["// react\nimport React, { Component } from 'react';\n\n// third-party\nimport PropTypes from 'prop-types';\n\n// application\nimport products from '../../data/shopProducts';\n\n// data stubs\nimport BlockProductsCarousel from './BlockProductsCarousel';\n\n\nexport default class BlockTabbedProductsCarousel extends Component {\n    timeout;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            products: products.slice(),\n            loading: false,\n            groups: [\n                { id: 1, name: 'All', current: true },\n                { id: 2, name: 'Power Tools', current: false },\n                { id: 3, name: 'Hand Tools', current: false },\n                { id: 4, name: 'Plumbing', current: false },\n            ],\n        };\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeout);\n    }\n\n    handleChangeGroup = (newCurrentGroup) => {\n        clearTimeout(this.timeout);\n\n        const { groups } = this.state;\n        const currentGroup = groups.find((group) => group.current);\n\n        if (currentGroup && currentGroup.id === newCurrentGroup.id) {\n            return;\n        }\n\n        this.setState((state) => (\n            {\n                loading: true,\n                groups: state.groups.map((group) => (\n                    { ...group, current: group.id === newCurrentGroup.id }\n                )),\n            }\n        ));\n\n        // sending request to server, timeout is used as a stub\n        this.timeout = setTimeout(() => {\n            this.setState((state) => {\n                // this is only for demo purpose\n                const itemsArray = state.products.slice();\n                const newItemsArray = [];\n                while (itemsArray.length > 0) {\n                    const randomIndex = Math.floor(Math.random() * itemsArray.length);\n                    const randomItem = itemsArray.splice(randomIndex, 1)[0];\n                    newItemsArray.push(randomItem);\n                }\n\n                return {\n                    products: newItemsArray,\n                    loading: false,\n                };\n            });\n        }, 2000);\n    };\n\n    render() {\n        return (\n            <BlockProductsCarousel\n                {...this.props}\n                {...this.state}\n                onGroupClick={this.handleChangeGroup}\n            />\n        );\n    }\n}\n\nBlockTabbedProductsCarousel.propTypes = {\n    title: PropTypes.string.isRequired,\n    layout: PropTypes.oneOf(['grid-4', 'grid-4-sm', 'grid-5', 'horizontal']),\n    rows: PropTypes.number,\n    withSidebar: PropTypes.bool,\n};\n\nBlockTabbedProductsCarousel.defaultProps = {\n    layout: 'grid-4',\n    rows: 1,\n    withSidebar: false,\n};\n"]},"metadata":{},"sourceType":"module"}